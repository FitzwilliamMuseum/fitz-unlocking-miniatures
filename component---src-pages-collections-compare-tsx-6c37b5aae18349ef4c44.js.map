{"version":3,"file":"component---src-pages-collections-compare-tsx-6c37b5aae18349ef4c44.js","mappings":"qJAEMA,EAAuB,CAC3BC,WAD2B,6BAE3BC,aAAc,CACZC,MADY,yBAEZC,QAFY,qDAGZC,SAAU,CACR,CAAEC,KAAF,IAAaH,MAAO,QACpB,CAAEG,KAAF,eAAwBH,MAAO,eAC/B,CAAEG,KAAF,SAAkBH,MAAO,SACzB,CAAEG,KAAF,QAAiBH,MAAO,SAE1BI,WAAY,CACV,CAAED,KAAF,IAAaH,MAAO,QACpB,CAAEG,KAAF,eAAwBH,MAAO,eAC/B,CAAEG,KAAF,SAAkBH,MAAO,SACzB,CAAEG,KAAF,QAAiBH,MAAO,SAE1BK,QAAS,CACP,CAAEC,KAAM,gDACR,CAAEA,KAAM,0BACR,CAAEA,KAAM,4BAEVC,YAAa,CACX,CAAEC,UAAF,8CAA4DC,UAAW,SAEzEC,IAAK,CACHC,IADG,wCAEHC,YAAa,CACXC,WADW,qBAIfC,KAAM,CACJH,IAAK,iDAEPI,OAAQ,CACNJ,IAAK,qDAMTK,gBAzC2B,EA0C3BC,QAAS,CAAC,sBAAsB,6BAAvB,6FAAuJ,CAC9JC,QAD8J,sBAM9J,CACEA,QADF,2BAEEC,QAAS,CACP,KADO,SAEP,KAAWC,qBAGf,CACEF,QADF,2BAEEC,QAAS,CACPE,KADO,WAEPC,KAASF,uBAGb,CACEF,QADF,2BAEEC,QAAS,CACPE,KADO,OAEPC,KAASF,uBAGb,CACEF,QADF,4BAEEC,QAAS,CACPF,QAAS,CACP,CACEC,QADF,uBAEEC,QAAS,CACPI,SAAU,OAGd,CACEL,QADF,kCAEEC,QAAS,CACPK,aAAa,6BAVV,sEAkBb,CACEN,QADF,0BAEEC,QAAS,CACPM,MAAO,CACLC,QAAS,oBAIf,CACER,QADF,wBAEEC,QAAS,CACPQ,SADO,kBAEPC,UAFO,kBAGPjB,IAAK,mDAKb,O,8GCzGMkB,EAAN,oBAAyBC,OAEV,SAASC,IAEtB,IAAIC,EAAJ,GACA,KAAe,CACb,IAAMC,EAAS,IAAIC,gBAAgBC,SAAAA,SAAnC,QACAH,EAAaC,EAAAA,IAAAA,UAAbD,GAGF,OAA0BI,EAAAA,EAAAA,UAA1B,IAAOC,EAAP,KAAcC,EAAd,KAqIA,OAjCAC,EAAAA,EAAAA,YAAU,WAAO,IAAD,EACRC,EAAcC,KAAA,UAAe,CACjC,iBAAoB,CAClB,oCAAOT,EAAAA,MAAAA,QAILrB,EAASd,EAAAA,EAAAA,aAAAA,IAAAA,IAAN,4BAAT,EACA6C,MAAAA,GAAAA,MACQ,SAAAC,GAAQ,OAAIA,EAAJ,UADhBD,MAEQ,SAAAE,GACJN,EAASM,EAATN,WAXNC,IAkCE,qBAAQM,aAAa,GACnB,2BAASC,UAAU,gCACjB,uBAAKA,UAAU,mBACb,sBAAMA,UAAN,yBAAyCC,GAAG,gBAFhD,SAIE,6BACE,6BACE,qBADF,MAEGV,aAFH,EAEGA,EAAA,KAAW,SAAAW,GAAI,OACd,0BAAKA,EADS,WAIlB,6BACE,0BACE,qBADF,MAEGC,OAAA,OAAcZ,GAAd,SAA+B,SAAAW,GAAI,OAAK,2BAlCzBE,EAkCoB,EAhCxCC,EAActD,EAAAA,EAAAA,aAAAA,IAAAA,IAAN,WAA4CqD,EAA5C,mBAAd,0BACME,EAAWF,EAAAA,OAAjB,GACO,uBAAKG,IAAL,EAAoBC,IAAKF,MAJlC,IAA4BF,EAEpBC,EACAC,MAiCE,0BACE,qBADF,MAEGH,OAAA,OAAcZ,GAAd,SAA+B,SAAAW,GAAI,OAAK,2BA/B1BE,EA+BqB,EA7BxCK,EAAc1D,EAAAA,EAAAA,aAAAA,KAAAA,IAA+BqD,EAA/BrD,iBAFwC,iBAItD2D,EAAe3D,EAAAA,EAAAA,aAAAA,OAAAA,IAAN,iBAAf,EACO,4BACL,sBAAMkD,GAAE,WAAaG,EAAUO,MAD1B,eAEL,qBAAGC,KAAMF,GAFX,aALF,IAA2BN,EAEnBK,EAEAC,MA5HO,CACb,CACEG,MADF,mBAEEC,MAFF,mBAGEC,KAAM,UAER,CACEF,MADF,uBAEEC,MAFF,kBAGEC,KAAM,UAER,CACEF,MADF,cAEEC,MAFF,SAGEC,KAAM,UAER,CACEF,MADF,cAEEC,MAFF,SAGEC,KAAM,UAER,CACEF,MADF,WAEEC,MAFF,WAGEC,KAAM,WAER,CACEF,MADF,6BAEEC,MAFF,uBAGEC,KAAM,UAER,CACEF,MADF,4BAEEC,MAFF,sBAGEC,KAAM,UAER,CACEF,MADF,sBAEEC,MAFF,sBAGEC,KAAM,UAER,CACEF,MADF,mBAEEC,MAFF,mBAGEC,KAAM,UAER,CACEF,MADF,qBAEEC,MAFF,qBAGEC,KAAM,UAER,CACEF,MADF,gCAEEC,MAFF,gCAGEC,KAAM,UAER,CACEF,MADF,0BAEEC,MAFF,0BAGEC,KAAM,UAER,CACEF,MADF,qBAEEC,MAFF,qBAGEC,KAAM,UAER,CACEF,MADF,6BAEEC,MAFF,6BAGEC,KAAM,QAER,CACEF,MADF,qBAEEC,MAFF,qBAGEC,KAAM,WAER,CACEF,MADF,qBAEEC,MAFF,qBAGEC,KAAM,WAER,CACEF,MADF,iBAEEC,MAFF,iBAGEC,KAAM,WAER,CACEF,MADF,WAEEC,MAFF,oBAGEC,KAAM,WAER,CACEF,MADF,aAEEC,MAFF,cAGEC,KAAM,YA2DC,KAAW,SAAAC,GAAS,OACnB,0BACE,0BAAKA,EADP,OAEGb,OAAA,OAAcZ,GAAd,SAA+B,SAAAW,GAAI,OAClC,0BAGIc,WAAAA,EAAAA,OAAmCd,EAAKc,EAAR,aAHpC,MAOIA,UAAAA,EAAAA,MAA8Bd,EAAKc,EAPvC,OAWIA,QAAAA,EAAAA,MAA4Bd,EAAKc,EAALd,OAAAA,KAZE","sources":["webpack://gatsby_fitzwilliam_miniatures/./gatsby-config.ts","webpack://gatsby_fitzwilliam_miniatures/./src/pages/collections-compare.tsx"],"sourcesContent":["import type { GatsbyConfig } from \"gatsby\";\n\nconst config: GatsbyConfig = {\n  pathPrefix: \"/fitz-unlocking-miniatures\",\n  siteMetadata: {\n    title: 'Fitzwilliam Miniatures',\n    siteUrl: 'https://unlocking-miniatures.fitzmuseum.cam.ac.uk/',\n    mainMenu: [\n      { link: '/', title: 'Home' },\n      { link: '/collections', title: 'Collections' },\n      { link: '/about', title: 'About' },\n      { link: '/blog', title: 'Blog' },\n    ],\n    quickLinks: [\n      { link: '/', title: 'Home' },\n      { link: '/collections', title: 'Collections' },\n      { link: '/about', title: 'About' },\n      { link: '/blog', title: 'Blog' },\n    ],\n    contact: [\n      { line: \"portraitminiatures [at] fitzmuseum.cam.ac.uk\" },\n      { line: \"The Fitzwilliam Museum\" },\n      { line: \"University of Cambridge\" }\n    ],\n    footerLogos: [\n      { image_src: '../../content/assets/main-banner-image.jpeg', image_alt: 'Logo' }\n    ],\n    api: {\n      url: 'https://unlocking-miniatures.fitz.ms/', //Always / at end\n      collections: {\n        miniatures: 'items/miniatures' //No back slash at end\n      }\n    },\n    iiif: {\n      url: 'https://miniatures-iiif.fitzmuseum.cam.ac.uk/'\n    },\n    viewer: {\n      url: \"https://miniatures-mirador.fitzmuseum.cam.ac.uk/\"\n    }\n  },\n  // More easily incorporate content into your pages through automatic TypeScript type generation and better GraphQL IntelliSense.\n  // If you use VSCode you can also use the GraphQL plugin\n  // Learn more at: https://gatsby.dev/graphql-typegen\n  graphqlTypegen: true,\n  plugins: [\"gatsby-plugin-image\", \"gatsby-plugin-react-helmet\", \"gatsby-plugin-sitemap\", \"gatsby-plugin-mdx\", \"gatsby-plugin-sharp\", \"gatsby-transformer-sharp\", {\n    resolve: 'gatsby-plugin-sass',\n    // options: {\n    //   implementation: require(\"node-sass\"),\n    // },\n  },\n    {\n      resolve: 'gatsby-source-filesystem',\n      options: {\n        \"name\": \"assets\",\n        \"path\": `${__dirname}/content/assets`\n      }\n    },\n    {\n      resolve: `gatsby-source-filesystem`,\n      options: {\n        name: `standard`,\n        path: `${__dirname}/content/standard`,\n      }\n    },\n    {\n      resolve: `gatsby-source-filesystem`,\n      options: {\n        name: `blog`,\n        path: `${__dirname}/content/markdown`,\n      }\n    },\n    {\n      resolve: `gatsby-transformer-remark`,\n      options: {\n        plugins: [\n          {\n            resolve: `gatsby-remark-images`,\n            options: {\n              maxWidth: 1280,\n            },\n          },\n          {\n            resolve: `gatsby-remark-responsive-iframe`,\n            options: {\n              wrapperStyle: `margin-bottom: 1.0725rem`,\n            },\n          },\n          `gatsby-remark-autolink-headers`,\n          `gatsby-remark-copy-linked-files`,\n        ],\n      },\n    },\n    {\n      resolve: 'gatsby-plugin-react-svg',\n      options: {\n        rules: {\n          include: \"src/assets/svg\"\n        }\n      }\n    },\n    {\n      resolve: \"gatsby-source-graphql\",\n      options: {\n        typeName: \"DirectusGraphQL\",\n        fieldName: \"directusgraphql\",\n        url: \"https://unlocking-miniatures.fitz.ms/graphql\",\n      },\n    }]\n};\n\nexport default config;\n","import React, { useState, useEffect } from \"react\"\nimport Layout from '../components/layout';\nimport config from \"../../gatsby-config\";\nimport { Link } from 'gatsby'\n\nconst isBrowser = typeof window !== \"undefined\"\n\nexport default function CollectionsComparePage() {\n\n  let queryItems = \"\";\n  if (isBrowser) {\n    const params = new URLSearchParams(document.location.search);\n    queryItems = params.get(\"items\") || \"\";\n  }\n\n  const [items, setItems] = useState<Array<MiniatureItemInterface>>([]);\n\n  const fields = [\n    {\n      field: \"accession_number\",\n      lable: \"Accession number\",\n      type: \"string\"\n    },\n    {\n      field: \"production_date_text\",\n      lable: \"Production date\",\n      type: \"string\"\n    },\n    {\n      field: \"artist_text\",\n      lable: \"Artist\",\n      type: \"string\"\n    },\n    {\n      field: \"sitter_text\",\n      lable: \"Sitter\",\n      type: \"string\"\n    },\n    {\n      field: \"monogram\",\n      lable: \"Monogram\",\n      type: \"boolean\"\n    },\n    {\n      field: \"dimensions_unframed_height\",\n      lable: \"Dimensions height mm\",\n      type: \"string\"\n    },\n    {\n      field: \"dimensions_unframed_width\",\n      lable: \"Dimensions width mm\",\n      type: \"string\"\n    },\n    {\n      field: \"pigments_background\",\n      lable: \"Pigments background\",\n      type: \"string\"\n    },\n    {\n      field: \"pigments_costume\",\n      lable: \"Pigments costume\",\n      type: \"string\"\n    },\n    {\n      field: \"pigments_jewellery\",\n      lable: \"Pigments jewellery\",\n      type: \"string\"\n    },\n    {\n      field: \"pigments_flesh_tones_and_lips\",\n      lable: \"Pigments flesh tones and lips\",\n      type: \"string\"\n    },\n    {\n      field: \"pigments_hair_and_beard\",\n      lable: \"Pigments hair and beard\",\n      type: \"string\"\n    },\n    {\n      field: \"materials_supports\",\n      lable: \"Materials supports\",\n      type: \"string\"\n    },\n    {\n      field: \"analytical_techniques_used\",\n      lable: \"Analytical techniques used\",\n      type: \"list\"\n    },\n    {\n      field: \"image_normal_light\",\n      lable: \"Image Normal light\",\n      type: \"boolean\"\n    },\n    {\n      field: \"image_raking_light\",\n      lable: \"Image Raking light\",\n      type: \"boolean\"\n    },\n    {\n      field: \"image_infrared\",\n      lable: \"Image Infrared\",\n      type: \"boolean\"\n    },\n    {\n      field: \"image_uv\",\n      lable: \"Image Ultraviolet\",\n      type: \"boolean\"\n    },\n    {\n      field: \"image_xray\",\n      lable: \"Image X-Ray\",\n      type: \"boolean\"\n    },\n  ];\n\n  useEffect(() => {\n    const filterQuery = JSON.stringify({\n      \"accession_number\": {\n        \"_in\": queryItems?.split(\",\")\n      }\n    });\n    // @ts-ignore\n    const url = `${config.siteMetadata.api.url}items/miniatures/?filter=${filterQuery}`\n    fetch(url)\n      .then(response => response.json())\n      .then(data => {\n        setItems(data.data);\n      });\n  }, [])\n\n  function objectImageElement(miniature: MiniatureItemInterface) {\n    // @ts-ignore\n    const imageUrl = `${config.siteMetadata.api.url}/assets/${miniature.image_normal_light}?&height=200&quality=80`;\n    const imageAlt = miniature.title || \"\";\n    return <img src={imageUrl} alt={imageAlt} />\n  }\n\n  function objectLinkElement(miniature: MiniatureItemInterface) {\n    // @ts-ignore\n    const manifestUrl = config.siteMetadata.iiif.url + miniature.accession_number + '/manifest.json';\n    // @ts-ignore\n    const viewerUrl = `${config.siteMetadata.viewer.url}?manifestId[]=${manifestUrl}`;\n    return <span>\n      <Link to={`/object/${miniature.slug}`} >Information</Link>\n      <a href={viewerUrl}>Viewer</a>\n    </span>\n  }\n\n  return (\n    <Layout displayLogo={false}>\n      <section className=\"collections-compare--section\">\n        <div className=\"miniature-items\">\n          <Link className=\"miniature-item__button\" to=\"/collections\">Back</Link>\n        </div>\n        <table>\n          <thead>\n            <th ></th>\n            {items?.map(item => (\n              <th>{item.title}</th>\n            ))}\n          </thead>\n          <tbody>\n            <tr>\n              <td></td>\n              {Object.values(items || []).map(item => (<td>{objectImageElement(item)}</td>))}\n            </tr>\n            <tr>\n              <td></td>\n              {Object.values(items || []).map(item => (<td>{objectLinkElement(item)}</td>))}\n            </tr>\n            {fields.map(fieldItem => (\n              <tr>\n                <td>{fieldItem.lable}</td>\n                {Object.values(items || []).map(item => (\n                  <td>\n                    {\n                      // @ts-ignore\n                      fieldItem.type == \"boolean\" && ((!!item[fieldItem.field]) ? 'Yes' : 'No')\n                    }\n                    {\n                      // @ts-ignore\n                      fieldItem.type == \"string\" && item[fieldItem.field]\n                    }\n                    {\n                      // @ts-ignore\n                      fieldItem.type == \"list\" && item[fieldItem.field].join(', ')\n                    }\n                  </td>\n                ))}\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </section>\n    </Layout>\n  )\n}\n"],"names":["config","pathPrefix","siteMetadata","title","siteUrl","mainMenu","link","quickLinks","contact","line","footerLogos","image_src","image_alt","api","url","collections","miniatures","iiif","viewer","graphqlTypegen","plugins","resolve","options","__dirname","name","path","maxWidth","wrapperStyle","rules","include","typeName","fieldName","isBrowser","window","CollectionsComparePage","queryItems","params","URLSearchParams","document","useState","items","setItems","useEffect","filterQuery","JSON","fetch","response","data","displayLogo","className","to","item","Object","miniature","imageUrl","imageAlt","src","alt","manifestUrl","viewerUrl","slug","href","field","lable","type","fieldItem"],"sourceRoot":""}