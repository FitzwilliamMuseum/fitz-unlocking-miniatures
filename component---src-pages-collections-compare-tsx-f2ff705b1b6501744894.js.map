{"version":3,"file":"component---src-pages-collections-compare-tsx-f2ff705b1b6501744894.js","mappings":"qJAEMA,EAAuB,CAC3BC,WAD2B,6BAE3BC,aAAc,CACZC,MADY,yBAEZC,QAFY,qDAGZC,SAAU,CACR,CAACC,KAAD,IAAYH,MAAO,QACnB,CAACG,KAAD,eAAuBH,MAAO,eAC9B,CAACG,KAAD,SAAiBH,MAAO,UAE1BI,WAAY,CACV,CAACD,KAAD,IAAYH,MAAO,QACnB,CAACG,KAAD,eAAuBH,MAAO,eAC9B,CAACG,KAAD,SAAiBH,MAAO,UAE1BK,QAAS,CACP,CAACC,KAAM,0BACP,CAACA,KAAM,4BAETC,YAAa,CACX,CAACC,UAAD,8CAA2DC,UAAW,SAExEC,YAAa,CACX,CAACC,KAAD,UAAkBC,IAAlB,wCAAgE,MAAS,kBACzE,CAACD,KAAD,UAAkBC,IAAlB,uCAA+D,MAAS,eAE1EC,IAAK,CACHD,IADG,wCAEHE,YAAa,CACXC,WADW,qBAIfC,KAAM,CACJJ,IAAK,iDAEPK,OAAQ,CACNL,IAAK,qDAMTM,gBA1C2B,EA2C3BC,QAAS,CAAC,sBAAsB,6BAAvB,6FAAuJ,CAC9JC,QAD8J,sBAK5J,CACFA,QADE,2BAEFC,QAAS,CACP,KADO,SAEP,KAAWC,oBAEbC,MAAO,UACN,CACDH,QADC,2BAEDC,QAAS,CACP,KADO,cAEP,KAAQ,gBAEVE,MAAO,eACN,CACDH,QADC,2BAEDC,QAAS,CACPG,KADO,iBAEPC,KAASH,sBAEXC,MAAO,YACN,CACDH,QADC,4BAEDC,QAAS,CACPF,QAAS,CACP,CACEC,QADF,uBAEEC,QAAS,CACPK,SAAU,OAGd,CACEN,QADF,kCAEEC,QAAS,CACPM,aAAa,6BAVV,sEAiBV,CACDP,QADC,0BAEDC,QAAS,CACPO,MAAO,CACLC,QAAS,oBAIf,CACET,QADF,wBAEEC,QAAS,CACPS,SADO,kBAEPC,UAFO,kBAGPnB,IAAK,mDAKX,O,8GCxGMoB,EAAN,oBAAyBC,OAEV,SAASC,IAEtB,IAAIC,EAAJ,GACA,KAAe,CACb,IAAMC,EAAS,IAAIC,gBAAgBC,SAAAA,SAAnC,QACAH,EAAaC,EAAAA,IAAAA,UAAbD,GAGF,OAA0BI,EAAAA,EAAAA,UAA1B,IAAOC,EAAP,KAAcC,EAAd,KAqIA,OAjCAC,EAAAA,EAAAA,YAAU,WAAO,IAAD,EACRC,EAAcC,KAAA,UAAe,CACjC,iBAAoB,CAClB,oCAAOT,EAAAA,MAAAA,QAILvB,EAASf,EAAAA,EAAAA,aAAAA,IAAAA,IAAN,4BAAT,EACAgD,MAAAA,GAAAA,MACQ,SAAAC,GAAQ,OAAIA,EAAJ,UADhBD,MAEQ,SAAAE,GACJN,EAASM,EAATN,WAXNC,IAkCE,qBAAQM,aAAa,GACnB,2BAASC,UAAU,gCACjB,uBAAKA,UAAU,mBACb,sBAAMA,UAAN,yBAAyCC,GAAG,gBAFhD,SAIE,6BACE,6BACE,qBADF,MAEGV,aAFH,EAEGA,EAAA,KAAW,SAAAW,GAAI,OACd,0BAAKA,EADS,WAIlB,6BACE,0BACE,qBADF,MAEGC,OAAA,OAAcZ,GAAd,SAA+B,SAAAW,GAAI,OAAK,2BAlCzBE,EAkCoB,EAhCxCC,EAAczD,EAAAA,EAAAA,aAAAA,IAAAA,IAAN,WAA4CwD,EAA5C,mBAAd,0BACME,EAAWF,EAAAA,OAAjB,GACO,uBAAKG,IAAL,EAAoBC,IAAKF,MAJlC,IAA4BF,EAEpBC,EACAC,MAiCE,0BACE,qBADF,MAEGH,OAAA,OAAcZ,GAAd,SAA+B,SAAAW,GAAI,OAAK,2BA/B1BE,EA+BqB,EA7BxCK,EAAc7D,EAAAA,EAAAA,aAAAA,KAAAA,IAA+BwD,EAA/BxD,iBAFwC,iBAItD8D,EAAe9D,EAAAA,EAAAA,aAAAA,OAAAA,IAAN,iBAAf,EACO,4BACL,sBAAMqD,GAAE,WAAaG,EAAUO,MAD1B,eAEL,qBAAGC,KAAMF,GAFX,aALF,IAA2BN,EAEnBK,EAEAC,MA5HO,CACb,CACEG,MADF,mBAEEC,MAFF,mBAGEpD,KAAM,UAER,CACEmD,MADF,uBAEEC,MAFF,kBAGEpD,KAAM,UAER,CACEmD,MADF,cAEEC,MAFF,SAGEpD,KAAM,UAER,CACEmD,MADF,cAEEC,MAFF,SAGEpD,KAAM,UAER,CACEmD,MADF,WAEEC,MAFF,WAGEpD,KAAM,WAER,CACEmD,MADF,6BAEEC,MAFF,uBAGEpD,KAAM,UAER,CACEmD,MADF,4BAEEC,MAFF,sBAGEpD,KAAM,UAER,CACEmD,MADF,sBAEEC,MAFF,sBAGEpD,KAAM,UAER,CACEmD,MADF,mBAEEC,MAFF,sBAGEpD,KAAM,UAER,CACEmD,MADF,qBAEEC,MAFF,sBAGEpD,KAAM,UAER,CACEmD,MADF,gCAEEC,MAFF,gCAGEpD,KAAM,UAER,CACEmD,MADF,0BAEEC,MAFF,0BAGEpD,KAAM,UAER,CACEmD,MADF,qBAEEC,MAFF,qBAGEpD,KAAM,UAER,CACEmD,MADF,6BAEEC,MAFF,6BAGEpD,KAAM,UAER,CACEmD,MADF,qBAEEC,MAFF,qBAGEpD,KAAM,WAER,CACEmD,MADF,qBAEEC,MAFF,qBAGEpD,KAAM,WAER,CACEmD,MADF,iBAEEC,MAFF,iBAGEpD,KAAM,WAER,CACEmD,MADF,WAEEC,MAFF,oBAGEpD,KAAM,WAER,CACEmD,MADF,aAEEC,MAFF,cAGEpD,KAAM,YA2DC,KAAW,SAAAqD,GAAS,OACnB,0BACE,0BAAKA,EADP,OAEGZ,OAAA,OAAcZ,GAAd,SAA+B,SAAAW,GAAI,OAClC,0BAGIa,WAAAA,EAAAA,OAAmCb,EAAKa,EAAR,aAHpC,MAOIA,UAAAA,EAAAA,MAA8Bb,EAAKa,EARL","sources":["webpack://gatsby_fitzwilliam_miniatures/./gatsby-config.ts","webpack://gatsby_fitzwilliam_miniatures/./src/pages/collections-compare.tsx"],"sourcesContent":["import type { GatsbyConfig } from \"gatsby\";\n\nconst config: GatsbyConfig = {\n  pathPrefix: \"/fitz-unlocking-miniatures\",\n  siteMetadata: {\n    title: 'Fitzwilliam Miniatures',\n    siteUrl: 'https://unlocking-miniatures.fitzmuseum.cam.ac.uk/',\n    mainMenu: [\n      {link: '/', title: 'Home'},\n      {link: '/collections', title: 'Collections'},\n      {link: '/about', title: 'About'},\n    ],\n    quickLinks: [\n      {link: '/', title: 'Home'},\n      {link: '/collections', title: 'Collections'},\n      {link: '/about', title: 'About'},\n    ],\n    contact: [\n      {line: \"The Fitzwilliam Museum\"},\n      {line: \"University of Cambridge\"}\n    ],\n    footerLogos: [\n      {image_src: '../../content/assets/main-banner-image.jpeg', image_alt: 'Logo'}\n    ],\n    socialMedia: [\n      {type: 'twitter', url: 'https://www.twitter.com/FitzMuseum_UK', 'title': '@FitzMuseum_UK'},\n      {type: 'youtube', url: 'https://www.youtube.com/c/FitzMuseum', 'title': 'on YouTube'},\n    ],\n    api: {\n      url: 'https://unlocking-miniatures.fitz.ms/', //Always / at end\n      collections: {\n        miniatures: 'items/miniatures' //No back slash at end\n      }\n    },\n    iiif: {\n      url: 'https://miniatures-iiif.fitzmuseum.cam.ac.uk/'\n    },\n    viewer: {\n      url: \"https://miniatures-mirador.fitzmuseum.cam.ac.uk/\"\n    }\n  },\n  // More easily incorporate content into your pages through automatic TypeScript type generation and better GraphQL IntelliSense.\n  // If you use VSCode you can also use the GraphQL plugin\n  // Learn more at: https://gatsby.dev/graphql-typegen\n  graphqlTypegen: true,\n  plugins: [\"gatsby-plugin-image\", \"gatsby-plugin-react-helmet\", \"gatsby-plugin-sitemap\", \"gatsby-plugin-mdx\", \"gatsby-plugin-sharp\", \"gatsby-transformer-sharp\", {\n    resolve: 'gatsby-plugin-sass',\n    // options: {\n    //   implementation: require(\"node-sass\"),\n    // },\n  } , {\n    resolve: 'gatsby-source-filesystem',\n    options: {\n      \"name\": \"images\",\n      \"path\": `${__dirname}/content/assets`\n    },\n    __key: \"images\"\n  }, {\n    resolve: 'gatsby-source-filesystem',\n    options: {\n      \"name\": \"systemPages\",\n      \"path\": \"./src/pages/\"\n    },\n    __key: \"SystemPages\"\n  }, {\n    resolve: `gatsby-source-filesystem`,\n    options: {\n      name: `standard-pages`,\n      path: `${__dirname}/content/standard`,\n    },\n    __key: \"Standard\"\n  }, {\n    resolve: `gatsby-transformer-remark`,\n    options: {\n      plugins: [\n        {\n          resolve: `gatsby-remark-images`,\n          options: {\n            maxWidth: 1280,\n          },\n        },\n        {\n          resolve: `gatsby-remark-responsive-iframe`,\n          options: {\n            wrapperStyle: `margin-bottom: 1.0725rem`,\n          },\n        },\n        `gatsby-remark-autolink-headers`,\n        `gatsby-remark-copy-linked-files`,\n      ],\n    },\n  }, {\n    resolve: 'gatsby-plugin-react-svg',\n    options: {\n      rules: {\n        include: \"src/assets/svg\"\n      }\n    }\n  },\n  {\n    resolve: \"gatsby-source-graphql\",\n    options: {\n      typeName: \"DirectusGraphQL\",\n      fieldName: \"directusgraphql\",\n      url: \"https://unlocking-miniatures.fitz.ms/graphql\",\n    },\n  }]\n};\n\nexport default config;\n","import React, { useState, useEffect } from \"react\"\nimport Layout from '../components/layout';\nimport config from \"../../gatsby-config\";\nimport { Link } from 'gatsby'\n\nconst isBrowser = typeof window !== \"undefined\"\n\nexport default function CollectionsComparePage() {\n\n  let queryItems = \"\";\n  if (isBrowser) {\n    const params = new URLSearchParams(document.location.search);\n    queryItems = params.get(\"items\") || \"\";\n  }\n\n  const [items, setItems] = useState<Array<MiniatureItemInterface>>([]);\n\n  const fields = [\n    {\n      field: \"accession_number\",\n      lable: \"Accession number\",\n      type: \"string\"\n    },\n    {\n      field: \"production_date_text\",\n      lable: \"Production date\",\n      type: \"string\"\n    },\n    {\n      field: \"artist_text\",\n      lable: \"Artist\",\n      type: \"string\"\n    },\n    {\n      field: \"sitter_text\",\n      lable: \"Sitter\",\n      type: \"string\"\n    },\n    {\n      field: \"monogram\",\n      lable: \"Monogram\",\n      type: \"boolean\"\n    },\n    {\n      field: \"dimensions_unframed_height\",\n      lable: \"Dimensions height mm\",\n      type: \"string\"\n    },\n    {\n      field: \"dimensions_unframed_width\",\n      lable: \"Dimensions width mm\",\n      type: \"string\"\n    },\n    {\n      field: \"pigments_background\",\n      lable: \"Pigments background\",\n      type: \"string\"\n    },\n    {\n      field: \"pigments_costume\",\n      lable: \"Pigments background\",\n      type: \"string\"\n    },\n    {\n      field: \"pigments_jewellery\",\n      lable: \"Pigments background\",\n      type: \"string\"\n    },\n    {\n      field: \"pigments_flesh_tones_and_lips\",\n      lable: \"Pigments flesh tones and lips\",\n      type: \"string\"\n    },\n    {\n      field: \"pigments_hair_and_beard\",\n      lable: \"Pigments hair and beard\",\n      type: \"string\"\n    },\n    {\n      field: \"materials_supports\",\n      lable: \"Materials supports\",\n      type: \"string\"\n    },\n    {\n      field: \"analytical_techniques_used\",\n      lable: \"Analytical techniques used\",\n      type: \"string\"\n    },\n    {\n      field: \"image_normal_light\",\n      lable: \"Image Normal light\",\n      type: \"boolean\"\n    },\n    {\n      field: \"image_raking_light\",\n      lable: \"Image Raking light\",\n      type: \"boolean\"\n    },\n    {\n      field: \"image_infrared\",\n      lable: \"Image Infrared\",\n      type: \"boolean\"\n    },\n    {\n      field: \"image_uv\",\n      lable: \"Image Ultraviolet\",\n      type: \"boolean\"\n    },\n    {\n      field: \"image_xray\",\n      lable: \"Image X-Ray\",\n      type: \"boolean\"\n    },\n  ];\n\n  useEffect(() => {\n    const filterQuery = JSON.stringify({\n      \"accession_number\": {\n        \"_in\": queryItems?.split(\",\")\n      }\n    });\n    // @ts-ignore\n    const url = `${config.siteMetadata.api.url}items/miniatures/?filter=${filterQuery}`\n    fetch(url)\n      .then(response => response.json())\n      .then(data => {\n        setItems(data.data);\n      });\n  }, [])\n\n  function objectImageElement(miniature: MiniatureItemInterface) {\n    // @ts-ignore\n    const imageUrl = `${config.siteMetadata.api.url}/assets/${miniature.image_normal_light}?&height=200&quality=80`;\n    const imageAlt = miniature.title || \"\";\n    return <img src={imageUrl} alt={imageAlt} />\n  }\n\n  function objectLinkElement(miniature: MiniatureItemInterface) {\n    // @ts-ignore\n    const manifestUrl = config.siteMetadata.iiif.url + miniature.accession_number + '/manifest.json';\n    // @ts-ignore\n    const viewerUrl = `${config.siteMetadata.viewer.url}?manifestId[]=${manifestUrl}`;\n    return <span>\n      <Link to={`/object/${miniature.slug}`} >Information</Link>\n      <a href={viewerUrl}>Viewer</a>\n    </span>\n  }\n\n  return (\n    <Layout displayLogo={false}>\n      <section className=\"collections-compare--section\">\n        <div className=\"miniature-items\">\n          <Link className=\"miniature-item__button\" to=\"/collections\">Back</Link>\n        </div>\n        <table>\n          <thead>\n            <th ></th>\n            {items?.map(item => (\n              <th>{item.title}</th>\n            ))}\n          </thead>\n          <tbody>\n            <tr>\n              <td></td>\n              {Object.values(items || []).map(item => (<td>{objectImageElement(item)}</td>))}\n            </tr>\n            <tr>\n              <td></td>\n              {Object.values(items || []).map(item => (<td>{objectLinkElement(item)}</td>))}\n            </tr>\n            {fields.map(fieldItem => (\n              <tr>\n                <td>{fieldItem.lable}</td>\n                {Object.values(items || []).map(item => (\n                  <td>\n                    {\n                      // @ts-ignore\n                      fieldItem.type == \"boolean\" && ((!!item[fieldItem.field]) ? 'Yes' : 'No')\n                    }\n                    {\n                      // @ts-ignore\n                      fieldItem.type == \"string\" && item[fieldItem.field]\n                    }\n                  </td>\n                ))}\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </section>\n    </Layout>\n  )\n}\n"],"names":["config","pathPrefix","siteMetadata","title","siteUrl","mainMenu","link","quickLinks","contact","line","footerLogos","image_src","image_alt","socialMedia","type","url","api","collections","miniatures","iiif","viewer","graphqlTypegen","plugins","resolve","options","__dirname","__key","name","path","maxWidth","wrapperStyle","rules","include","typeName","fieldName","isBrowser","window","CollectionsComparePage","queryItems","params","URLSearchParams","document","useState","items","setItems","useEffect","filterQuery","JSON","fetch","response","data","displayLogo","className","to","item","Object","miniature","imageUrl","imageAlt","src","alt","manifestUrl","viewerUrl","slug","href","field","lable","fieldItem"],"sourceRoot":""}